---
title: "[Book] Clean Code"
date: 2022-02-20 21:25:00
categories:
  - Book
tags:
  - [Book]

toc: true
toc_sticky: true
---

# 클린 코드

애자일 소프트웨어 장인 정신

<small>저자: 로버트 C. 마틴</small>

# 1. 깨끗한 코드

page 1~20

### 깨끗한 코드라는 예술

깨끗한 코드를 작성하는 프로그래머는 빈 캔버스를 우아한 작품으로 바꿔가는 화가와 같다.

### 비야네 스트롭스트룹

우하하고 효율적인 코드

### 그래디 부치

가독성

### 큰 데이브 토마스

의미 있는 이름

### 마이클 페더스

누군가 주의 깊게 짰다는 느낌을 준다.

### 론 제프리스

중복이 없다.

### 워드 커닝햄

짐작했던 기능을 수행한다.

### 우리들 생각

이 책은 우리 오브젝트 멘토 진영이 생각하는 깨끗한 코드를 설명한다.

### 우리는 저자다

새 코드를 짜면서 우리는 끊임없이 기존 코드를 읽는다.

### 보이스카우트 규칙

캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라.

### 프리퀄과 원칙

이 책은 Agile Software Development: Principles, Patterns, and Practices의 프리퀄`prequel`이다.

이 책에서는 SRP`Single Responsibility Principle` , OCP `Open Closed Principle`, DIP`Dependency Inversion Principle` 와 같은 설계 원칙을 산발적으로 거론한다.

### 결론

예술가가 되기 위한 책은 없다. 나머지는 여러분에게 달렸다.

# 2. 의미 있는 이름

page 21~38

### 의도를 분명히 밝혀라

`int d;`

### 그릇된 정보를 피하라

O, L

### 의미 있게 구분하라

`zork` vs `theZork`

### 발음하기 쉬운 이름을 사용하라

프로그래밍은 사회 활동이기 떄문이다.

### 검색하기 쉬운 이름을 사용하라

`WORK_DAYS_PER_WEEK`

### 인코딩을 피하라

- 헝가리식 표기법
- 멤버 변수 접두어
- 인터페이스 클래스와 구현 클래스

### 자신의 기억력을 자랑하지 마라

### 클래스 이름

명사나 명사구가 적합하다. 동사는 사용하지 않는다.

### 메서드 이름

동사나 동사구가 적합하다.

### 기발한 이름은 피하라

특정 문화에서만 사용하는 농담은 피하는 편이 좋다.

### 한 개념에 한 단어를 사용하라

fetch, get, retrieve

### 말장난을 하지 마라

한 단어를 두 가지 목적으로 사용하지 마라.

### 해법 영역에서 가져온 이름을 사용하라

전산 용어, 알고리즘 이름, 패턴 이름, 수학 용어 등

### 문제 영역에서 가져온 이름을 사용하라

### 의미 있는 맥락을 추가하라

### 불필요한 맥락을 없애라

### 마치면서

좋은 이름을 선택하려면 설명 능력이 뛰어나야 하고 문화적인 배경이 같아야 한다.

이것이 제일 어렵다. 좋은 이름을 선택하는 능력은 교육 문제다.

# 3. 함수

page 39 ~ 66

루틴과 하위 루틴

프로그램 - 하위 프로그램 - 함수

가장 기본적인 단위가 함수

함수를 잘 만드는 법 소개하는 장

### 작게 만들어라!

함수를 만드는 규칙은 첫번째도 ‘작게!’, 두번째도 ‘작게!’다. 2~4줄 정도면 적당하다.

#### 블록과 들여쓰기

if문 등에 들어가는 블록은 한 줄이어야 한다.

### 한 가지만 해라!

함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다.

#### 함수 내 섹션

한 가지 작업만 하는 함수는 자연스럽게 섹션으로 나누기 어렵다.

### 함수 당 추상화 수준은 하나로!

근본 개념과 세부사항을 뒤섞기 시작하면, 깨어진 창문처럼 사람들이 함수에 세부사항을 점점 더 추가한다.

#### 위에서 아래로 코드 읽기: 내려가기 규칙

한 함수 다음에는 **`추상화 수준`**이 한 단계 낮은 함수가 온다. 즉, 위에서 아래로 프로그램을 읽으면 함수 추상화 수준이 한 번에 한 단계 씩 낮아진다.

### Switch 문

switch 문을 저차원 클래스에 숨기고 절대로 반복하지 않는 방법은 있다. 물론 다형성`polymorphism` 을 이용한다. page 48

### 서술적인 이름을 사용하라!

서술적인 이름을 사용하면 개발자 머릿속에서도 설계가 뚜렷해지므로 코드를 개선하기 쉬워진다.

`includeSetupAndTeardownPages`, `includeSetupPages`, `includeSuiteSetupPage`, `includeSetupPage`

### 함수 인수

이상적인 인수 개수는 0개다.

#### 많이 쓰는 단항 형식

함수에 인수 1개를 넘기는 이유로 가장 흔한 경우는 두 가지다.

1. 인수에 질문을 던지는 경우
2. 이벤트 함수

#### 플래그 인수

추하다.

#### 이항 함수

좌표의 경우

#### 삼항 함수

주춤하게 된다.

#### 인수 객체

변수를 묶어 넘기면 이름을 붙여야 하므로 결국은 개념을 표현하게 된다.

#### 인수 목록

때로는 인수 개수가 가변적인 함수도 필요하다.

#### 동사와 키워드

`writeField(name)`

`assertExpectedEqualsActual(expected, actual)`

### 부수 효과를 일으키지 마라!

부수 효과는 거짓말이다.

#### 출력 인수

`appendFooter(s);`

`report.appendFooter();`

### 명령과 조회를 분리하라!

함수는 뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야 한다.

### 오류 코드보다 예외를 사용하라!

try - catch

#### Try/Catch 블록 뽑아내기

try/catch 블록을 별도 함수로 뽑아내는 편이 좋다.

오류 처리도 한 가지 작업이다.

함수가 한 가지 작업만 하는 것과 같이 오류 처리 함수도 한 가지 작업을 한다.

#### Error.java 의존성 자석

어디선가 오류 코드를 정의하면 자석과 같이 import해 사용한다.

그래서 정의된 코드 변경이 어려워진다. 그래서 기존 오류 코드를 재사용한다.

### 반복하지 마라!

모든 악의 근원이다.

### 구조적 프로그래밍

함수는 return문이 1개여야 한다.

### 함수를 어떻게 짜죠?

글짓기와 비슷하다.

초안은 길고 복잡하다.

단위 테스트 케이스도 만든다.

코드를 다듬고, 함수를 만들고, 이름을 바꾸고, 중복을 제거한다. 메서드를 줄이고 순서를 바꾼다. 때로는 전체 클래스를 쪼개기도 한다.

이 와중에도 단위 테스트를 통과한다.

### 결론

대가 프로그래머는 시스템을 (구현할) 프로그램이 아니라 (풀어갈) 이야기로 여긴다.

좀 더 풍부하고 좀 더 표현력이 강한 언어를 만들어 이야기를 풀어간다.

# 4. 주석

주석은 나쁜 코드를 보완하지 못한다

코드로 의도를 표현하라!

### 좋은 주석

법적인 주석

정보를 제공하는 주석

의도를 설명하는 주석

의미를 명료하게 밝히는 주석

결과를 경고하는 주석

TODO 주석

중요성을 강조하는 주석

공개 API에서 Javadocs

### 나쁜 주석

나머지 모두 나쁜 주석이다.

# 5. 형식 맞추기 formatting

형식을 깔끔하게 맞춰 코드를 짜야 한다.

간단한 규칙을 정하고 그 규칙을 따라야 한다.

자동으로 적용하는 도구를 활용한다.

## 형식을 맞추는 목적

의사소통은 전문 개발자의 일차적인 의무다.

## 적절한 행 길이를 유지하라

일반적으로 큰 파일보다 작은 파일이 이해하기 쉽다.

### 신문 기사처럼 작성하라

이름은 간단하면서도 설명이 가능하게 짓는다.

아래로 내려갈수록 의도를 세세하게 묘사한다.

### 개념은 빈 행으로 분리하라

생각 사이는 빈 행을 넣어 분리해야 마땅하다. 새로운 개념을 시작한다는 시각적 단서다.

### 세로 밀집도

세로 밀집도는 연관성을 의미한다.

### 수직 거리

서로 밀접한 개념은 세로로 가까이 둬야 한다.

### 세로 순서

호출되는 함수를 호출하는 함수보다 나중에 배치한다. 🎃

## 가로 형식 맞추기

프로그래머는 명백하게 짧은 행을 선호한다.

### 가로 공백과 밀집도

밀접한 개념과 느슨한 개념을 표현한다.

### 가로 정렬

인위적은 가로 정렬은 유용하지 못하다. 변수 유형은 무시하고 변수 이름부터 읽게 된다.

### 들여쓰기

Outline은 범위scope이다.

### 가짜 범위

## 팀 규칙

팀에 속한다면 자신이 선호해야 할 규칙은 바로 팀 규칙이다.

## 밥 아저씨의 형식 규칙

# 6. 객체와 자료 구조
