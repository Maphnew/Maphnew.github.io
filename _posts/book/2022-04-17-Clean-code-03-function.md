---
title: "[Book] Clean Code: 3 함수"
date: 2022-04-17 21:25:00
categories:
  - Book
tags:
  - [Book, "Clean Code"]

toc: true
toc_sticky: true
---

# 클린 코드

애자일 소프트웨어 장인 정신

<small>저자: 로버트 C. 마틴</small>

# 3. 함수

page 39 ~ 66

루틴과 하위 루틴

프로그램 - 하위 프로그램 - 함수

가장 기본적인 단위가 함수

함수를 잘 만드는 법 소개하는 장

### 작게 만들어라!

함수를 만드는 규칙은 첫번째도 ‘작게!’, 두번째도 ‘작게!’다. 2~4줄 정도면 적당하다.

#### 블록과 들여쓰기

if문 등에 들어가는 블록은 한 줄이어야 한다.

### 한 가지만 해라!

함수는 한 가지를 해야 한다. 그 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다.

#### 함수 내 섹션

한 가지 작업만 하는 함수는 자연스럽게 섹션으로 나누기 어렵다.

### 함수 당 추상화 수준은 하나로!

근본 개념과 세부사항을 뒤섞기 시작하면, 깨어진 창문처럼 사람들이 함수에 세부사항을 점점 더 추가한다.

#### 위에서 아래로 코드 읽기: 내려가기 규칙

한 함수 다음에는 **`추상화 수준`**이 한 단계 낮은 함수가 온다. 즉, 위에서 아래로 프로그램을 읽으면 함수 추상화 수준이 한 번에 한 단계 씩 낮아진다.

### Switch 문

switch 문을 저차원 클래스에 숨기고 절대로 반복하지 않는 방법은 있다. 물론 다형성`polymorphism` 을 이용한다. page 48

### 서술적인 이름을 사용하라!

서술적인 이름을 사용하면 개발자 머릿속에서도 설계가 뚜렷해지므로 코드를 개선하기 쉬워진다.

`includeSetupAndTeardownPages`, `includeSetupPages`, `includeSuiteSetupPage`, `includeSetupPage`

### 함수 인수

이상적인 인수 개수는 0개다.

#### 많이 쓰는 단항 형식

함수에 인수 1개를 넘기는 이유로 가장 흔한 경우는 두 가지다.

1. 인수에 질문을 던지는 경우
2. 이벤트 함수

#### 플래그 인수

추하다.

#### 이항 함수

좌표의 경우

#### 삼항 함수

주춤하게 된다.

#### 인수 객체

변수를 묶어 넘기면 이름을 붙여야 하므로 결국은 개념을 표현하게 된다.

#### 인수 목록

때로는 인수 개수가 가변적인 함수도 필요하다.

#### 동사와 키워드

`writeField(name)`

`assertExpectedEqualsActual(expected, actual)`

### 부수 효과를 일으키지 마라!

부수 효과는 거짓말이다.

#### 출력 인수

`appendFooter(s);`

`report.appendFooter();`

### 명령과 조회를 분리하라!

함수는 뭔가를 수행하거나 뭔가에 답하거나 둘 중 하나만 해야 한다.

### 오류 코드보다 예외를 사용하라!

try - catch

#### Try/Catch 블록 뽑아내기

try/catch 블록을 별도 함수로 뽑아내는 편이 좋다.

오류 처리도 한 가지 작업이다.

함수가 한 가지 작업만 하는 것과 같이 오류 처리 함수도 한 가지 작업을 한다.

#### Error.java 의존성 자석

어디선가 오류 코드를 정의하면 자석과 같이 import해 사용한다.

그래서 정의된 코드 변경이 어려워진다. 그래서 기존 오류 코드를 재사용한다.

### 반복하지 마라!

모든 악의 근원이다.

### 구조적 프로그래밍

함수는 return문이 1개여야 한다.

### 함수를 어떻게 짜죠?

글짓기와 비슷하다.

초안은 길고 복잡하다.

단위 테스트 케이스도 만든다.

코드를 다듬고, 함수를 만들고, 이름을 바꾸고, 중복을 제거한다. 메서드를 줄이고 순서를 바꾼다. 때로는 전체 클래스를 쪼개기도 한다.

이 와중에도 단위 테스트를 통과한다.

### 결론

대가 프로그래머는 시스템을 (구현할) 프로그램이 아니라 (풀어갈) 이야기로 여긴다.

좀 더 풍부하고 좀 더 표현력이 강한 언어를 만들어 이야기를 풀어간다.
